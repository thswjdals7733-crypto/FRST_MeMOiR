<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Memoir Base</title>

  <!-- Pretendard + Noto Sans KR -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@200;300;400;700&display=swap" />
  
  <style>
    /* -----------------------------
       ROOT VARIABLES (Design Tokens)
    ----------------------------- */
    :root {
      /* Fonts */
      --ff-primary: 'Pretendard', 'Noto Sans KR', sans-serif;

      /* Font Sizes */
      --fs-web-title: 5.3125rem;   /* 85px */
      --fs-header: 2.25rem;        /* 36px */
      --fs-subtitle-large: 1.25rem;/* 20px */
      --fs-number: 1.875rem;       /* 30px */
      --fs-body: 1rem;             /* 16px */
      --fs-caption: 0.875rem;      /* 14px */

      /* Font Weights */
      --fw-thin: 200;
      --fw-light: 300;
      --fw-regular: 400;
      --fw-bold: 700;

      /* Line Heights */
      --lh-tight: 1.1;
      --lh-snug: 1.25;
      --lh-normal: 1.5;

      /* Colors */
      --c-point: #0459F0;
      --c-section-header: #022669;
      --c-text-main: #111827;
      --c-text-sub: #1F2937;
      --c-text-note: #6B7280;
      --c-bg-card: #FFFFFF;
      --c-bg-scroll-track: #F7FAFC;
      --c-bg-scroll-thumb: #CBD5E0;
      --c-nav-bg-default: #E5E7EB;
      --c-nav-text-default: #1F2937;
      --c-nav-bg-active: #0459F0;
      --c-nav-text-active: #FFFFFF;
    }

    /* -----------------------------
       BASE RESET & GLOBAL RULES
    ----------------------------- */
    html, body {
      margin: 0;
      padding: 0;
      background: var(--c-bg-card);
      font-family: var(--ff-primary);
      color: var(--c-text-main);
      -webkit-text-size-adjust: 100%;
      text-wrap: pretty;
      min-height: 100dvh;
      overflow: hidden; /* 스크롤은 .embed-root에서 처리 */
    }
    :lang(ko) { word-break: keep-all; }
    h1, h2, h3 { text-wrap: balance; }

    /* Scrollbar 스타일 */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: var(--c-bg-scroll-track); }
    ::-webkit-scrollbar-thumb {
      background: var(--c-bg-scroll-thumb);
      border-radius: 3px;
    }

    /* -----------------------------
       FIXED CANVAS LAYOUT (390px)
    ----------------------------- */
    .embed-root{
      width:100vw;
      /* 뷰포트 기준 높이(브라우저 호환 3종) */
      height:100vh;
      height:100svh;
      height:100dvh;
      display:flex;
      justify-content:center;   /* 가로 중앙 */
      align-items:flex-start;   /* 위에서 시작(내용 길면 스크롤) */
      overflow:auto;            /* 스크롤은 여기서 */
      background:#F7FAFC;
      overscroll-behavior:contain;
    }

    .embed-stage {
      width: 390px;
      transform-origin: top left; /* ← 중심을 좌상단으로 고정 */
      backface-visibility: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      box-sizing: border-box;
      padding: 24px;

      /* 보기 좋게(선택) */
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
    }

    /* -----------------------------
       BASIC TYPOGRAPHY CLASSES
    ----------------------------- */
    .text-web-title { font-size: var(--fs-web-title); font-weight: var(--fw-bold); line-height: var(--lh-tight); color: var(--c-section-header); }
    .k-header { font-size: var(--fs-header); font-weight: var(--fw-bold); line-height: var(--lh-tight); color: var(--c-section-header); }
    .k-sub { font-size: var(--fs-subtitle-large); font-weight: var(--fw-light); line-height: var(--lh-snug); color: var(--c-text-sub); }
    .k-body { font-size: var(--fs-body); font-weight: var(--fw-light); line-height: var(--lh-normal); color: var(--c-text-main); }
    .k-note { font-size: var(--fs-caption); font-weight: var(--fw-light); line-height: var(--lh-normal); color: var(--c-text-note); }
    .k-num { font-size: var(--fs-number); font-weight: var(--fw-bold); line-height: var(--lh-snug); color: var(--c-point); }

    /* -----------------------------
       HELPER CLASSES
    ----------------------------- */
    .nowrap-chunk { white-space: nowrap; display: inline-block; }
    .can-break { overflow-wrap: anywhere; word-break: break-word; hyphens: auto; }
    .hr-embed { height: 2px; background: #e5e7eb; margin: 24px 0; }
    
    /* -----------------------------
       CARD STYLES
    ----------------------------- */
    .card-container {
      display: flex;
      gap: 16px;
      margin: 2rem 0;
      justify-content: center;
    }
    .card {
      flex: 1;
      max-width: 171px;
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .card-label {
      margin-bottom: 12px;
    }
    .card-value {
      margin-top: auto;
    }
    
    /* -----------------------------
       PROMOTION CAROUSEL STYLES
    ----------------------------- */
    .promotion-section {
      margin-bottom: 2rem;
    }
    
    .promotion-category-label {
      font-size: var(--fs-body);
      font-weight: var(--fw-light);
      color: var(--c-text-main);
      text-align: center;
      margin-bottom: 1.5rem;
    }
    
    .promotion-carousel-wrapper {
      overflow: hidden;
      position: relative;
    }
    
    .promotion-carousel-track {
      display: flex;
      gap: 2rem;
    }
    
    #promoCarousel1 {
      animation: promotion-scroll-1 20s linear infinite;
    }
    
    #promoCarousel3 {
      animation: promotion-scroll-3 20s linear infinite;
    }
    
    @keyframes promotion-scroll-1 {
      0% {
        transform: translateX(0);
      }
      100% {
        /* 첫 번째 세트(9개 아이템)의 너비만큼 이동 - JavaScript로 동적 계산 */
        transform: translateX(var(--carousel-offset, -300%));
      }
    }
    
    @keyframes promotion-scroll-3 {
      0% {
        transform: translateX(0);
      }
      100% {
        /* 첫 번째 세트(6개 아이템)의 너비만큼 이동 - JavaScript로 동적 계산 */
        transform: translateX(var(--carousel-offset-3, -300%));
      }
    }
    
    .promotion-carousel-track:hover {
      animation-play-state: paused;
    }
    
    .promotion-item {
      flex-shrink: 0;
      padding: 0;
      background: transparent;
      border-radius: 0;
      font-size: 1rem;
      font-weight: var(--fw-light);
      color: var(--c-text-main);
      white-space: nowrap;
      box-shadow: none;
      overflow: visible;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      width: calc(33.333% - 1.33rem);
      min-width: calc(33.333% - 1.33rem);
      height: 150px;
    }
    
    .promotion-item img {
      max-height: 100%;
      max-width: 100%;
      width: auto;
      height: auto;
      object-fit: contain;
      display: block;
    }
    
    /* -----------------------------
       PERSONAL SUBJECT TA CHART STYLES
    ----------------------------- */
    .personal-subject-ta-header {
      font-size: var(--fs-subtitle-large);
      font-weight: var(--fw-light);
      color: var(--c-text-main);
      text-align: center;
      margin-bottom: 2rem;
      line-height: 1.4;
    }
    
    .personal-subject-ta-card {
      background: #F0F2F5;
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      margin: 2rem 0;
      max-width: 100%;
    }
    
    .personal-subject-chart-container {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      justify-content: center;
      align-items: stretch;
      overflow: visible;
      padding: 1rem;
      width: 100%;
      margin: 0 auto;
    }
    
    .personal-subject-chart-item {
      flex: 0 0 auto;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 12;
      min-height: 40px;
      padding: 0.5rem 0;
      width: 100%;
      max-width: 100%;
    }
    
    .personal-subject-label {
      font-size: var(--fs-body);
      font-weight: var(--fw-light);
      color: var(--c-text-main);
      flex: 0 0 48px;
      min-width: 60px;
    }
    
    .personal-subject-bar-wrapper {
      position: relative;
      flex: 1 1 0;
      min-width: 140px;
      height: 30px;
      display: flex;
      align-items: center;
      background: #E5E7EB;
      border-radius: 15px;
      overflow: hidden;
      width: 180px;
    }
    
    .personal-subject-bar {
      height: 24px;
      background: var(--c-point);
      border-radius: 12px;
      transition: width 2s ease-out;
      width: 0%;
      position: relative;
      min-width: 15px;
    }
    
    .personal-subject-value {
      font-size: var(--fs-body);
      font-weight: var(--fw-light);
      color: var(--c-text-main);
      white-space: nowrap;
      flex: 0 0 auto;
      margin-left: 8px;
      min-width: 0px;
      text-align: left;
      flex-shrink: 0;
    }
    
    .personal-subject-ta-message {
      font-size: var(--fs-body);
      font-weight: var(--fw-light);
      text-align: center;
      color: var(--c-text-main);
      line-height: var(--lh-normal);
      margin-top: 2rem;
    }

    /* -----------------------------
       FORM 기본 설정
    ----------------------------- */
    input, textarea { font-size: 16px; }
  </style>
</head>

<body>
  <!-- 화면 스케일 구조 -->
  <div class="embed-root">
    <div class="embed-stage" id="stage">
      <!-- 웹 제목 -->
      <h1 class="text-web-title" style="text-align: center; margin: 0; padding: 2rem 0; font-style: italic !important;">
        2025<br>memoir
      </h1>

      <!-- 본문 설명 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 1rem; font-style: italic;">
        '<em>memoir</em>' : 주인공의 회고록
      </p>

      <!-- 본문 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        매일의 시작, 매일의 노력, 매일의 끝맺음.<br>
        흔들렸지만 멈추지 않았던 나날들과, 지쳤지만 다시 일어난 순간들.<br>
        그 무수한 시간들이 하루하루 쌓여<br>
        올 한 해 누구도 대신 써줄 수 없는, 오직 여러분만의 memoir을 완성해 나갔습니다.<br>
        시대인재와 함께한 2025년,<br>
        여러분의 이야기를 한 페이지씩 되돌아 볼까요?
      </p>

      <!-- 주석 -->
      <p class="k-note" style="text-align: center; margin: 0; padding-top: 2rem;">
        *데이터 집계기간 : 2/20-10/31
      </p>

      <!-- 섹션 머리말들 -->
      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        시대인재N과 함께한 나날들
      </h2>
      
      <!-- 기록의 시작/끝 카드 -->
      <div class="card-container">
        <div class="card">
          <div class="card-label k-body">기록의 시작</div>
          <div class="card-value k-num" id="first-arrival-date" style="color: var(--c-point);">--/--</div>
        </div>
        <div class="card">
          <div class="card-label k-body">기록의 끝</div>
          <div class="card-value k-num">11/10</div>
        </div>
      </div>
      
      <!-- 개인화된 메시지 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        <span id="student-name" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님,<br>
        <span id="first-arrival-date-text" style="color: var(--c-point); font-weight: var(--fw-bold);">--/--</span>에 시대인재와 만나 <span id="branch-name" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span> <span id="class-name" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>에서 <span id="total-days" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>간 함께했어요.<br>
        비가 오나 눈이 오나 묵묵히 자신의 길을 걸어 온 시간들,<br>
        그리고 그 시간들이 모여 완주한 올해의 레이스는<br>
        그것 자체만으로 성공적입니다.
      </p>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        하루의 시작은 카드 태깅으로부터
      </h2>
      
      <!-- 평균 등원 시각 메시지 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        <span id="student-name-arrival" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님, 시대인재에서의 하루는 평균적으로 <span id="avg-arrival-time-text" style="color: var(--c-point); font-weight: var(--fw-bold);">--:--</span>에 시작했어요.
      </p>
      
      <!-- 주석 -->
      <p class="k-note" style="text-align: center; margin: 0; padding-top: 1rem;">
        *실제 <span id="student-name-note">--</span>님의 카드태깅data에 기반한 결과입니다.
      </p>
      
      <!-- 등원길 메시지 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        동이 트는 시간, 아침의 산뜻한 공기를 마시며 매일매일 걸어온 그 등원길을 기억나시나요?<br>
        어둑하다가도 밝아진 하늘을 보며 계절을 체감하곤 하죠.<br>
        다양한 온기를 느낀 만큼, 더 단단한 <span id="student-name-strength" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님이 되셨을 거예요.
      </p>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        하루의 몰입은 부엉이 라이브러리에서
      </h2>
      
      <!-- 라이브러리 본문 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        일 년 중 가장 많은 시간을 보냈을 여러분의 작은 둥지, 부엉이 라이브러리.<br>
        그 공간 속에서 여러분은 시대인재 콘텐츠를 풀며, 엄청난 성장을 이뤘어요.
      </p>
      
      <!-- 콘텐츠 제작 캐러셀 -->
      <div class="promotion-section">
        <div class="promotion-carousel-wrapper">
          <div class="promotion-carousel-track" id="promoCarousel1">
            <div class="promotion-item"><img src="./SURVIVAL.png" alt="SURVIVAL"></div>
            <div class="promotion-item"><img src="./BRIDGE.png" alt="BRIDGE"></div>
            <div class="promotion-item"><img src="./ACCElERATOR.png" alt="ACCELERATER"></div>
            <div class="promotion-item"><img src="./SHORTCUT.png" alt="SHORTCUT"></div>
            <div class="promotion-item"><img src="./ATG.png" alt="ATG"></div>
            <div class="promotion-item"><img src="./FLOW.png" alt="FLOW"></div>
            <div class="promotion-item"><img src="./VORTEX.png" alt="VORTEX"></div>
            <div class="promotion-item"><img src="./E-FFECT.png" alt="E-FFECT"></div>
            <div class="promotion-item"><img src="./TRUSS.png" alt="TRUSS"></div>
            <!-- Duplicate for seamless loop -->
            <div class="promotion-item"><img src="./SURVIVAL.png" alt="SURVIVAL"></div>
            <div class="promotion-item"><img src="./BRIDGE.png" alt="BRIDGE"></div>
            <div class="promotion-item"><img src="./ACCElERATOR.png" alt="ACCELERATER"></div>
            <div class="promotion-item"><img src="./SHORTCUT.png" alt="SHORTCUT"></div>
            <div class="promotion-item"><img src="./ATG.png" alt="ATG"></div>
            <div class="promotion-item"><img src="./FLOW.png" alt="FLOW"></div>
            <div class="promotion-item"><img src="./VORTEX.png" alt="VORTEX"></div>
            <div class="promotion-item"><img src="./E-FFECT.png" alt="E-FFECT"></div>
            <div class="promotion-item"><img src="./TRUSS.png" alt="TRUSS"></div>
            <!-- Additional duplicate for smoother loop -->
            <div class="promotion-item"><img src="./SURVIVAL.png" alt="SURVIVAL"></div>
            <div class="promotion-item"><img src="./BRIDGE.png" alt="BRIDGE"></div>
            <div class="promotion-item"><img src="./ACCElERATOR.png" alt="ACCELERATER"></div>
            <div class="promotion-item"><img src="./SHORTCUT.png" alt="SHORTCUT"></div>
            <div class="promotion-item"><img src="./ATG.png" alt="ATG"></div>
            <div class="promotion-item"><img src="./FLOW.png" alt="FLOW"></div>
            <div class="promotion-item"><img src="./VORTEX.png" alt="VORTEX"></div>
            <div class="promotion-item"><img src="./E-FFECT.png" alt="E-FFECT"></div>
            <div class="promotion-item"><img src="./TRUSS.png" alt="TRUSS"></div>
          </div>
        </div>
      </div>
      
      <!-- TA 질문 섹션 -->
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        문제를 풀다보면 언제든 모르는 게 생기기 마련이죠.<br>
        그럴 때는,
      </p>
      
      <h2 class="k-sub" style="text-align: center; margin: 0; padding-top: 2rem;">
        Q?A! TA!
      </h2>
      
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        <span id="student-name-ta" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님이 올 한 해 sdijTA 앱에서 한 과목별 질문수는 얼마나 될까요?
      </p>
      
      <p class="k-note" style="text-align: center; margin: 0; padding-top: 1rem;">
        *실제 <span id="student-name-ta-note">--</span>님의 TA앱에 등록된 데이터 기반입니다.
      </p>
      
      <!-- 개인 과목별 질문수 그래프 -->
      <div class="personal-subject-ta-card" style="margin-top: 3rem;">
        <div class="personal-subject-chart-container">
          <div class="personal-subject-chart-item">
            <div class="personal-subject-label">국어</div>
            <div class="personal-subject-bar-wrapper">
              <div class="personal-subject-bar" id="personalKoreanBar"></div>
            </div>
            <div class="personal-subject-value k-num" id="personalKoreanQuestions" style="color: var(--c-point);">0</div>
          </div>
          <div class="personal-subject-chart-item">
            <div class="personal-subject-label">수학</div>
            <div class="personal-subject-bar-wrapper">
              <div class="personal-subject-bar" id="personalMathBar"></div>
            </div>
            <div class="personal-subject-value k-num" id="personalMathQuestions" style="color: var(--c-point);">0</div>
          </div>
          <div class="personal-subject-chart-item">
            <div class="personal-subject-label">영어</div>
            <div class="personal-subject-bar-wrapper">
              <div class="personal-subject-bar" id="personalEnglishBar"></div>
            </div>
            <div class="personal-subject-value k-num" id="personalEnglishQuestions" style="color: var(--c-point);">0</div>
          </div>
          <div class="personal-subject-chart-item">
            <div class="personal-subject-label">탐구1</div>
            <div class="personal-subject-bar-wrapper">
              <div class="personal-subject-bar" id="personalResearch1Bar"></div>
            </div>
            <div class="personal-subject-value k-num" id="personalResearch1Questions" style="color: var(--c-point);">0</div>
          </div>
          <div class="personal-subject-chart-item">
            <div class="personal-subject-label">탐구2</div>
            <div class="personal-subject-bar-wrapper">
              <div class="personal-subject-bar" id="personalResearch2Bar"></div>
            </div>
            <div class="personal-subject-value k-num" id="personalResearch2Questions" style="color: var(--c-point);">0</div>
          </div>
        </div>
      </div>
      
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        수많은 문항을 풀며 쌓은 고민의 흔적들.<br>
        그 순간마다, 질문은 또 다른 배움의 시작이 되었습니다.<br><br>
        그렇게 쌓이고 쌓인 <span id="student-name-total" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님의 질문은,<br>
        총 <span id="total-questions" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>였습니다.<br><br>
        <span id="student-name-effort" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님이 자신의 부족한 점을 하나하나 메꾸고자 한 이 노력,<br>
        분명 수능장에서 빛을 발할 거예요.
      </p>
      
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 3rem;">
        TA앱 이외에도 시대인재에서 이런 앱을 사용하셨어요
      </p>
      
      <div class="promotion-section" style="margin-top: 2rem;">
        <div class="promotion-carousel-wrapper">
          <div class="promotion-carousel-track" id="promoCarousel3">
            <div class="promotion-item"><img src="./SDIJN.png" alt="SDIJN"></div>
            <div class="promotion-item"><img src="./CONTENTS.png" alt="CONTENTS"></div>
            <div class="promotion-item"><img src="./Timer.png" alt="TIMER"></div>
            <div class="promotion-item"><img src="./TA.png" alt="TA"></div>
            <div class="promotion-item"><img src="./SCHEDULE.png" alt="SCHEDULE"></div>
            <div class="promotion-item"><img src="./ebook.png" alt="EBOOK"></div>
            <!-- Duplicate for seamless loop -->
            <div class="promotion-item"><img src="./SDIJN.png" alt="SDIJN"></div>
            <div class="promotion-item"><img src="./CONTENTS.png" alt="CONTENTS"></div>
            <div class="promotion-item"><img src="./Timer.png" alt="TIMER"></div>
            <div class="promotion-item"><img src="./TA.png" alt="TA"></div>
            <div class="promotion-item"><img src="./SCHEDULE.png" alt="SCHEDULE"></div>
            <div class="promotion-item"><img src="./ebook.png" alt="EBOOK"></div>
          </div>
        </div>
      </div>
      
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 3rem;">
        이처럼 콘텐츠를 풀고, 질문을 하고, 앱을 사용하면서<br>
        라이브러리에서의 몰입은 한 해간 이어졌어요.
      </p>
      
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        그렇게 몰입하며 살아온 올 한 해,<br>
        <span id="student-name-library" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님이 라이브러리에서 보낸 시간은<br>
        <span id="total-library-hours" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>이었습니다.
      </p>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        하루의 배움은 강의실에서
      </h2>
      
      <p class="k-body" style="text-align: center; margin: 0; padding-top: 2rem;">
        수많은 시험지 위에서<br>
        <span id="student-name-exam" style="color: var(--c-text-main); font-weight: var(--fw-bold);">--</span>님은 스스로를 점검해 왔어요.<br>
        결과보다 값진 건, 그 꾸준한 시도들이었습니다.<br>
        그리고 그 시간의 기록,<br>
        모의고사 응시 총 <span id="total-mock-tests" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>.<br><br>
        매일의 공부가 문제로 쌓이고,<br>
        풀이의 흔적이 곧 시간의 기록이 되었습니다.<br>
        그 집중의 순간들이 만들어 낸 결과,<br>
        총 <span id="total-personal-problems" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>문항.<br>
        무려 <span id="shortcut-books" style="color: var(--c-point); font-weight: var(--fw-bold);">--</span>을 풀어낸 것과 같아요
      </p>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        하루의 끝을 또다시 맺으며
      </h2>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        우리들의 하루가 모이고 모여서
      </h2>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        올해를 빛낸 부엉이 여러분!
      </h2>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        After Service
      </h2>

      <h2 class="k-header" style="text-align: center; margin: 0; padding-top: 3rem;">
        시대인재는 앞으로도..
      </h2>
    </div>
  </div>

  <script>
    /* -----------------------------
       SCALE SCRIPT (390px 고정)
    ----------------------------- */
    const DESIGN_WIDTH = 390;
    const stage = document.getElementById("stage");
    const root = document.querySelector(".embed-root");

    function resize() {
      const vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
      const scale = Math.min(vw, DESIGN_WIDTH) / DESIGN_WIDTH; // 데스크탑=1, 좁은 화면은 축소
      stage.style.transform = `scale(${scale})`;
    }

    window.addEventListener("load", resize);
    window.addEventListener("resize", resize);
    window.visualViewport?.addEventListener("resize", resize);
    window.addEventListener("orientationchange", resize);
  </script>

  <script>
    /* -----------------------------
       URL 파라미터 읽기 및 값 설정
    ----------------------------- */
    function getUrlParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // 파라미터 값 설정
    window.addEventListener("DOMContentLoaded", () => {
      // 첫 등원일 (카드)
      const firstArrivalDate = getUrlParameter("firstArrivalDate");
      const dateElement = document.getElementById("first-arrival-date");
      if (firstArrivalDate && dateElement) {
        dateElement.textContent = firstArrivalDate;
      }
      
      // 첫 등원일 (텍스트)
      const dateTextElement = document.getElementById("first-arrival-date-text");
      if (firstArrivalDate && dateTextElement) {
        dateTextElement.textContent = firstArrivalDate;
      }
      
      // 이름 (여러 곳에 설정)
      const name = getUrlParameter("name");
      const nameElements = [
        document.getElementById("student-name"),
        document.getElementById("student-name-arrival"),
        document.getElementById("student-name-note"),
        document.getElementById("student-name-strength"),
        document.getElementById("student-name-ta"),
        document.getElementById("student-name-ta-note"),
        document.getElementById("student-name-total"),
        document.getElementById("student-name-effort"),
        document.getElementById("student-name-library"),
        document.getElementById("student-name-exam")
      ];
      nameElements.forEach(el => {
        if (name && el) {
          el.textContent = name;
        }
      });
      
      // 평균 등원 시각
      const avgArrivalTime = getUrlParameter("avgArrivalTime");
      const avgTimeElement = document.getElementById("avg-arrival-time-text");
      if (avgArrivalTime && avgTimeElement) {
        avgTimeElement.textContent = avgArrivalTime;
      }
      
      // 관 명
      const branchName = getUrlParameter("branchName");
      const branchElement = document.getElementById("branch-name");
      if (branchName && branchElement) {
        branchElement.textContent = branchName;
      }
      
      // 반 명
      const className = getUrlParameter("className");
      const classElement = document.getElementById("class-name");
      if (className && classElement) {
        classElement.textContent = className;
      }
      
      // 총 등원일수
      const totalDays = getUrlParameter("totalDays");
      const totalDaysElement = document.getElementById("total-days");
      if (totalDays && totalDaysElement) {
        totalDaysElement.textContent = totalDays;
      }
      
      // 총 질문수
      const totalQuestions = getUrlParameter("totalQuestions");
      const totalQuestionsElement = document.getElementById("total-questions");
      if (totalQuestions && totalQuestionsElement) {
        totalQuestionsElement.textContent = totalQuestions;
      }
      
      // 라이브러리 총 잔류시간
      const totalLibraryHours = getUrlParameter("totalLibraryHours");
      const totalLibraryHoursElement = document.getElementById("total-library-hours");
      if (totalLibraryHours && totalLibraryHoursElement) {
        totalLibraryHoursElement.textContent = totalLibraryHours;
      }
      
      // 모의고사 응시 총 회차 수
      const totalMockTests = getUrlParameter("totalMockTests");
      const totalMockTestsElement = document.getElementById("total-mock-tests");
      if (totalMockTests && totalMockTestsElement) {
        totalMockTestsElement.textContent = totalMockTests;
      }
      
      // 개인 푼 문제 수
      const totalPersonalProblems = getUrlParameter("totalPersonalProblems");
      const totalPersonalProblemsElement = document.getElementById("total-personal-problems");
      if (totalPersonalProblems && totalPersonalProblemsElement) {
        totalPersonalProblemsElement.textContent = totalPersonalProblems;
      }
      
      // 숏컷 권수
      const shortcutBooks = getUrlParameter("shortcutBooks");
      const shortcutBooksElement = document.getElementById("shortcut-books");
      if (shortcutBooks && shortcutBooksElement) {
        shortcutBooksElement.textContent = shortcutBooks;
      }
    });
    
    // 캐러셀 무한 루프 개선 - 첫 번째 세트 너비 계산
    window.addEventListener("DOMContentLoaded", () => {
      const carousel = document.getElementById("promoCarousel1");
      if (carousel) {
        // 첫 번째 아이템 9개의 너비 계산
        const items = carousel.querySelectorAll('.promotion-item');
        if (items.length >= 9) {
          // gap 값 가져오기 (2rem을 px로 변환)
          const computedStyle = window.getComputedStyle(carousel);
          const gapValue = computedStyle.gap || '2rem';
          const gapInPx = parseFloat(gapValue) * (gapValue.includes('rem') ? 16 : 1);
          
          let firstSetWidth = 0;
          
          // 첫 9개 아이템의 너비 + 8개 gap 계산
          for (let i = 0; i < 9; i++) {
            const item = items[i];
            const itemWidth = item.offsetWidth;
            firstSetWidth += itemWidth;
            if (i < 8) {
              firstSetWidth += gapInPx;
            }
          }
          
          // CSS 변수로 설정
          carousel.style.setProperty('--carousel-offset', `-${firstSetWidth}px`);
        }
      }
      
      // 앱 서비스 캐러셀 (promoCarousel3) - 첫 번째 세트 너비 계산
      const carousel3 = document.getElementById("promoCarousel3");
      if (carousel3) {
        // 첫 번째 아이템 6개의 너비 계산
        const items3 = carousel3.querySelectorAll('.promotion-item');
        if (items3.length >= 6) {
          // gap 값 가져오기 (2rem을 px로 변환)
          const computedStyle3 = window.getComputedStyle(carousel3);
          const gapValue3 = computedStyle3.gap || '2rem';
          const gapInPx3 = parseFloat(gapValue3) * (gapValue3.includes('rem') ? 16 : 1);
          
          let firstSetWidth3 = 0;
          
          // 첫 6개 아이템의 너비 + 5개 gap 계산
          for (let i = 0; i < 6; i++) {
            const item = items3[i];
            const itemWidth = item.offsetWidth;
            firstSetWidth3 += itemWidth;
            if (i < 5) {
              firstSetWidth3 += gapInPx3;
            }
          }
          
          // CSS 변수로 설정
          carousel3.style.setProperty('--carousel-offset-3', `-${firstSetWidth3}px`);
        }
      }
      
      // 개인 과목별 TA 질문수 그래프 애니메이션
      const personalKoreanQuestions = getUrlParameter("personalKoreanQuestions") || "0";
      const personalMathQuestions = getUrlParameter("personalMathQuestions") || "0";
      const personalEnglishQuestions = getUrlParameter("personalEnglishQuestions") || "0";
      const personalResearch1Questions = getUrlParameter("personalResearch1Questions") || "0";
      const personalResearch2Questions = getUrlParameter("personalResearch2Questions") || "0";
      
      const personalSubjects = [
        { id: 'personalKorean', value: personalKoreanQuestions, barId: 'personalKoreanBar', labelId: 'personalKoreanQuestions' },
        { id: 'personalMath', value: personalMathQuestions, barId: 'personalMathBar', labelId: 'personalMathQuestions' },
        { id: 'personalEnglish', value: personalEnglishQuestions, barId: 'personalEnglishBar', labelId: 'personalEnglishQuestions' },
        { id: 'personalResearch1', value: personalResearch1Questions, barId: 'personalResearch1Bar', labelId: 'personalResearch1Questions' },
        { id: 'personalResearch2', value: personalResearch2Questions, barId: 'personalResearch2Bar', labelId: 'personalResearch2Questions' }
      ];
      
      // 최대값 찾기 (비율 계산용)
      const maxPersonalValue = Math.max(...personalSubjects.map(s => parseInt(s.value) || 0));
      
      // 초기값 설정
      personalSubjects.forEach(subject => {
        const barElement = document.getElementById(subject.barId);
        const labelElement = document.getElementById(subject.labelId);
        if (barElement) {
          barElement.style.width = '0%';
        }
        if (labelElement) {
          labelElement.textContent = new Intl.NumberFormat('ko-KR').format(parseInt(subject.value) || 0);
        }
      });
      
      // 그래프 애니메이션 함수
      function animatePersonalBars() {
        personalSubjects.forEach((subject, index) => {
          const value = parseInt(subject.value) || 0;
          const percentage = maxPersonalValue > 0 ? (value / maxPersonalValue) * 100 : 0;
          
          const labelElement = document.getElementById(subject.labelId);
          const barElement = document.getElementById(subject.barId);
          
          if (barElement && labelElement) {
            setTimeout(() => {
              barElement.style.width = percentage + '%';
              
              // 숫자 카운팅 애니메이션
              let currentValue = 0;
              const duration = 2000;
              const increment = value / (duration / 50);
              const counterInterval = setInterval(() => {
                currentValue += increment;
                if (currentValue >= value) {
                  currentValue = value;
                  clearInterval(counterInterval);
                }
                labelElement.textContent = new Intl.NumberFormat('ko-KR').format(Math.floor(currentValue));
              }, 50);
            }, index * 200);
          }
        });
      }
      
      // Intersection Observer로 화면에 보일 때 애니메이션 시작
      const personalSubjectCard = document.querySelector('.personal-subject-ta-card');
      if (personalSubjectCard) {
        let personalAnimated = false;
        const personalObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !personalAnimated) {
              personalAnimated = true;
              personalSubjects.forEach(subject => {
                const barElement = document.getElementById(subject.barId);
                if (barElement) {
                  barElement.style.width = '0%';
                }
              });
              setTimeout(() => {
                animatePersonalBars();
              }, 100);
            }
            if (!entry.isIntersecting && entry.boundingClientRect.top > 0) {
              personalAnimated = false;
            }
          });
        }, { threshold: 0.3 });
        
        personalObserver.observe(personalSubjectCard);
      }
    });
  </script>
</body>
</html>
